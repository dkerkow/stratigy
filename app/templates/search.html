{% extends "base.html" %}

{% block content %}

  <div class="page-header">
    <h1>Search in Sites</h1>
  </div>

  <form method="post" action="{{ url_for('search') }}">
    {{ form.hidden_tag() }}

    <div class="row">
      <div class="form-group col-xs-4">
        {{ form.site_name.label }}
        {{ form.site_name(size=40, class="form-control", placeholder="Site name") }}
        {% for error in form.errors.site_name %}
        <span style="color: red;">{{ error }}</span>
        {% endfor %}<br>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-xs-4">
        {{ form.key_name.label }}
        {{ form.key_name(size=40, class="form-control", placeholder="Key name") }}
        {% for error in form.errors.key_name %}
        <span style="color: red;">{{ error }}</span>
        {% endfor %}<br>
      </div>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>

  </form>

  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Edit</th>
      </tr>
    </thead>
    <tbody>
      {% for site in sites %}
      <tr valign="top">
        <td>{{ site.id }}</td>
        <td>{{ site.site_name }}</td>
        <td>
          <a class="btn btn-primary btn-xs" href="{{ url_for('edit', site_id=site.id) }}" role="button">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
